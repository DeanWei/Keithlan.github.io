
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>Focus on MySQL,Focus on Life</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="兰春">
    
    
    
    
    
    <link rel="icon" href="/img/lanchun.jpg">
    
    
    <link rel="apple-touch-icon" href="/img/lanchun.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/lanchun.jpg">
    

	
	<link href="http://cdn.bootcss.com/highlight.js/8.2/styles/railscasts.min.css" rel="stylesheet">
	<script src="http://cdn.bootcss.com/highlight.js/8.2/highlight.min.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	

    <link rel="stylesheet" href="/css/style.css" type="text/css">


</head>

  <body>
    <header>
      <div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Focus on MySQL,Focus on Life">Focus on MySQL,Focus on Life</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
                    <ul>
					 
						<li><a href="/">首页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="http://Keithlan.github.io/">Page</a></li>
					
					<li>
					
					</li>
                <li><div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div></li>

				</ul>
			</nav>	
</div>

    </header>
    <div id="container" class="clearfix">
      <div id="main">

  <section class="post" itemscope itemprop="blogPost">
  <article>
    <h1 itemprop="name">
      
        <a href="/2017/06/21/innodb_locks_algorithms/" title="MySQL锁系列（七）之 锁算法详解" itemprop="url">
      
        MySQL锁系列（七）之 锁算法详解
      </a>
    </h1>
    
     
           <p itemprop="description" >能学到什么

隔离级别和锁的关系    
重点讲解在RR隔离级别下的加锁算法逻辑   
重点罗列了比较典型的几种加锁逻辑案例  
对insert的加锁逻辑进行了深度剖析  
实战中剖析加锁的全过程  
InnoDB为什么要这样加锁  

隔离级别和算法

repeatable-r</p>
        
    
    <p class="article-more-link">
      <time datetime="2017-06-21T07:32:24.000Z" itemprop="datePublished">Jun 21 2017</time>
      
          <a href="/2017/06/21/innodb_locks_algorithms/">阅读更多&raquo;</a>
      
    </p>

  </article>
</section>

  <section class="post" itemscope itemprop="blogPost">
  <article>
    <h1 itemprop="name">
      
        <a href="/2017/06/16/innodb_locks_MVCC/" title="MySQL锁系列（六）之 MVCC" itemprop="url">
      
        MySQL锁系列（六）之 MVCC
      </a>
    </h1>
    
     
           <p itemprop="description" >agenda

我们能学到什么    


什么是MVCC

MVCC能解决什么问题

MVCC的实现原理  


一、什么是MVCC

名词解释

12英文名：Multi Version Concurrency Control中文名：多版本一致性控制




应用场景


大家</p>
        
    
    <p class="article-more-link">
      <time datetime="2017-06-16T07:32:24.000Z" itemprop="datePublished">Jun 16 2017</time>
      
          <a href="/2017/06/16/innodb_locks_MVCC/">阅读更多&raquo;</a>
      
    </p>

  </article>
</section>

  <section class="post" itemscope itemprop="blogPost">
  <article>
    <h1 itemprop="name">
      
        <a href="/2017/06/14/innodb_locks_mvcc_isolation/" title="MySQL锁系列（五）之 隔离级别" itemprop="url">
      
        MySQL锁系列（五）之 隔离级别
      </a>
    </h1>
    
     
           <p itemprop="description" >一、隔离级别

事务的隔离级别有4种: SQL-1992 ，但是我只想介绍其中两种，因为其他的两个根本就用不上  

1.1 什么叫一致性锁定读 和 一致性非锁定读

一致性锁定读

1231. 读数据的时候，会去加S-lock、x-lock2. eg：select ... fo</p>
        
    
    <p class="article-more-link">
      <time datetime="2017-06-14T07:32:24.000Z" itemprop="datePublished">Jun 14 2017</time>
      
          <a href="/2017/06/14/innodb_locks_mvcc_isolation/">阅读更多&raquo;</a>
      
    </p>

  </article>
</section>

  <section class="post" itemscope itemprop="blogPost">
  <article>
    <h1 itemprop="name">
      
        <a href="/2017/06/13/innodb_locks_undo/" title="MySQL锁系列（四）之 undo log" itemprop="url">
      
        MySQL锁系列（四）之 undo log
      </a>
    </h1>
    
     
           <p itemprop="description" >什么是undo
121) redo 记录的是对页的重做日志，undo 记录的是对事务的逆向操作  2) undo 会产生redo，undo的产生也会伴随这redo的产生，因为重启恢复的时候，可以通过redo还原这些undo的操作,以达到回滚的目的

undo有什么用
121) 用</p>
        
    
    <p class="article-more-link">
      <time datetime="2017-06-13T07:32:24.000Z" itemprop="datePublished">Jun 13 2017</time>
      
          <a href="/2017/06/13/innodb_locks_undo/">阅读更多&raquo;</a>
      
    </p>

  </article>
</section>

  <section class="post" itemscope itemprop="blogPost">
  <article>
    <h1 itemprop="name">
      
        <a href="/2017/06/12/innodb_locks_redo/" title="MySQL锁系列（三）之 redo log" itemprop="url">
      
        MySQL锁系列（三）之 redo log
      </a>
    </h1>
    
     
           <p itemprop="description" >WHY

1）锁和事务是分不开的，事务和redo又是傻傻分不清楚的   

2）事务最重要的是什么？ACID 又是如何实现的？   


1234567891011* A 原子性	通过redo实现* C 一致性	通过undo实现  	* I 隔离性	通过lock实现* D 持久性</p>
        
    
    <p class="article-more-link">
      <time datetime="2017-06-12T07:32:24.000Z" itemprop="datePublished">Jun 12 2017</time>
      
          <a href="/2017/06/12/innodb_locks_redo/">阅读更多&raquo;</a>
      
    </p>

  </article>
</section>

  <section class="post" itemscope itemprop="blogPost">
  <article>
    <h1 itemprop="name">
      
        <a href="/2017/06/09/util100/" title="util 100% 怪异问题分析" itemprop="url">
      
        util 100% 怪异问题分析
      </a>
    </h1>
    
     
           <p itemprop="description" >环境
121. DB: Server version: 5.7.18-log MySQL Community Server (GPL)  2. OS: CentOS release 6.6 (Final)

问题描述

问题要害  

121. 不定时的磁盘util 100%  </p>
        
    
    <p class="article-more-link">
      <time datetime="2017-06-09T07:32:24.000Z" itemprop="datePublished">Jun 9 2017</time>
      
          <a href="/2017/06/09/util100/">阅读更多&raquo;</a>
      
    </p>

  </article>
</section>

  <section class="post" itemscope itemprop="blogPost">
  <article>
    <h1 itemprop="name">
      
        <a href="/2017/06/05/innodb_locks_show_engine/" title="MySQL锁系列（二）之 锁解读" itemprop="url">
      
        MySQL锁系列（二）之 锁解读
      </a>
    </h1>
    
     
           <p itemprop="description" >背景

锁系列第一期的时候介绍的锁，我们要如何去解读呢？  
在哪里能够看到这些锁？  

锁信息解读

工欲善其事必先利其器show engine innodb status 关于锁的信息是最详细的  

案例一（有索引的情况）

前期准备

12345678910111213</p>
        
    
    <p class="article-more-link">
      <time datetime="2017-06-05T09:32:24.000Z" itemprop="datePublished">Jun 5 2017</time>
      
          <a href="/2017/06/05/innodb_locks_show_engine/">阅读更多&raquo;</a>
      
    </p>

  </article>
</section>

  <section class="post" itemscope itemprop="blogPost">
  <article>
    <h1 itemprop="name">
      
        <a href="/2017/06/05/innodb_locks_1/" title="MySQL锁系列（一）之锁的种类和概念" itemprop="url">
      
        MySQL锁系列（一）之锁的种类和概念
      </a>
    </h1>
    
     
           <p itemprop="description" >背景

锁是MySQL里面最难理解的知识，但是又无处不在。一开始接触锁的时候，感觉被各种锁类型和名词弄得晕头转向，就别说其他了。本文是通过DBA的视角（非InnoDB内核开发）来分析和窥探锁的奥秘，并解决实际工作当中遇到的问题  
锁的种类&amp;amp;概念

想要啃掉这块最难的大骨</p>
        
    
    <p class="article-more-link">
      <time datetime="2017-06-05T07:32:24.000Z" itemprop="datePublished">Jun 5 2017</time>
      
          <a href="/2017/06/05/innodb_locks_1/">阅读更多&raquo;</a>
      
    </p>

  </article>
</section>

  <section class="post" itemscope itemprop="blogPost">
  <article>
    <h1 itemprop="name">
      
        <a href="/2017/04/06/omega_connection/" title="omega监控系列之connection" itemprop="url">
      
        omega监控系列之connection
      </a>
    </h1>
    
     
           <p itemprop="description" >背景

什么是omega

12345简单说就是一个平台， 运维和运营为一体的智能DB管理平台所有DB相关的事情都能通过此平台 完成-&amp;gt;自助完成-&amp;gt;智能完成目前知道这个就够了，其他的以后慢慢介绍




为什么要介绍omega系统里面的connection

1234</p>
        
    
    <p class="article-more-link">
      <time datetime="2017-04-06T02:32:24.000Z" itemprop="datePublished">Apr 6 2017</time>
      
          <a href="/2017/04/06/omega_connection/">阅读更多&raquo;</a>
      
    </p>

  </article>
</section>

  <section class="post" itemscope itemprop="blogPost">
  <article>
    <h1 itemprop="name">
      
        <a href="/2017/03/04/wrong_sql_plan/" title="MySQL5.6：一个神奇的执行计划" itemprop="url">
      
        MySQL5.6：一个神奇的执行计划
      </a>
    </h1>
    
     
           <p itemprop="description" >今天遇到一个非常神奇的sql执行计划时好时坏，我们一起来领略一下吧
废话不多说，直接进入实战
环境
12345678910111213141516171819202122232425262728* version：MySQL5.6.27 社区版* 表结构CREATE TABLE </p>
        
    
    <p class="article-more-link">
      <time datetime="2017-03-04T02:32:24.000Z" itemprop="datePublished">Mar 4 2017</time>
      
          <a href="/2017/03/04/wrong_sql_plan/">阅读更多&raquo;</a>
      
    </p>

  </article>
</section>


  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/4/">Next &raquo;</a>
  </nav>

</div>
      
<div id="asidepart">
<div id="authorInfo">
	
		<div class="author-logo"></div>		
	
	
	<section class="author-info">
		
			<p> 幸福,不在于得到的多</p>
		
		
			<p>	而在于计较的少</p>
		
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/2101743962" target="_blank" title="weibo"></a>
		
		
		
		<a href="https://github.com/Keithlan" target="_blank" title="github"></a>
		
		
	</div>
</div>
<aside class="clearfix">


  
<div class="categorieslist">
	<p class="asidetitle">Categories</p>
		<ul>
		
			<li><a href="/categories/MySQL/" title="MySQL">MySQL<sup>35</sup></a></li>
		
			<li><a href="/categories/personal/" title="personal">personal<sup>1</sup></a></li>
		
			<li><a href="/categories/分享/" title="分享">分享<sup>35</sup></a></li>
		
		</ul>
</div>


  
  <div class="archiveslist">
    <p class="asidetitle"><a href="/archives">Archives</a></p>
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a><span class="archive-list-count">1</span></li></ul>
  </div>


  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			<li><a href="/tags/Error/" title="Error">Error<sup>2</sup></a></li>
		
			<li><a href="/tags/InnoDB-Lock/" title="InnoDB Lock">InnoDB Lock<sup>9</sup></a></li>
		
			<li><a href="/tags/Life-share/" title="Life share">Life share<sup>1</sup></a></li>
		
			<li><a href="/tags/Linux-share/" title="Linux share">Linux share<sup>1</sup></a></li>
		
			<li><a href="/tags/MHA/" title="MHA">MHA<sup>2</sup></a></li>
		
			<li><a href="/tags/MySQL-Error/" title="MySQL Error">MySQL Error<sup>12</sup></a></li>
		
			<li><a href="/tags/MySQL-SYS-toolkit/" title="MySQL SYS toolkit">MySQL SYS toolkit<sup>2</sup></a></li>
		
			<li><a href="/tags/MySQL-feature/" title="MySQL feature">MySQL feature<sup>4</sup></a></li>
		
			<li><a href="/tags/MySQL-share/" title="MySQL share">MySQL share<sup>34</sup></a></li>
		
			<li><a href="/tags/MySQL-tools/" title="MySQL tools">MySQL tools<sup>1</sup></a></li>
		
			<li><a href="/tags/MySQL-实战/" title="MySQL 实战">MySQL 实战<sup>1</sup></a></li>
		
			<li><a href="/tags/SQL-Tuning/" title="SQL Tuning">SQL Tuning<sup>1</sup></a></li>
		
			<li><a href="/tags/sysbench/" title="sysbench">sysbench<sup>1</sup></a></li>
		
		</ul>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >

</div>
</footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  //back to top
  function backToTop(){
    var buttonHTML = $("<a href=\"#top\" id=\"back-top\">" + "<span>Back to Top</span></a>");
    buttonHTML.appendTo($("body"));
    var buttonToTop = $("#back-top");
    // hide #back-top first
    buttonToTop.hide();

    // fade in #back-top
    $(function() {
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                buttonToTop.fadeIn();
            } else {
                buttonToTop.fadeOut();
            }
        });
        // scroll body to 0px on click
        buttonToTop.click(function() {
            $('body,html').animate({
                scrollTop: 0
            }, 800);
            return false;
        });
    });
  }
  backToTop();

  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      ta = $('#toc.toc-aside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
        
    }
  });

  var show = true;
  c.click(function(){
    if(show == true){
        a.addClass('fadeOut').css('display', 'none');
        ta.css('display', 'block').addClass('fadeIn');
        m.addClass('moveMain');  
    }else{
        a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');     
        ta.css('display', 'none'); 
        m.removeClass('moveMain');
        $('#toc.toc-aside').css('display', 'none');
    }
    show = !show;
  });
});
</script>







  </body>
 </html>
